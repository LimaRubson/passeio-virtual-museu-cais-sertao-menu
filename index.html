<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Passeio Virtual do Cais do Sert√£o</title>

    <script src="https://aframe.io/releases/0.3.2/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/jsWid=UA-44130515-33"></script>
    <script>
        window.fataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments)};
        gtag('js', new Date());

        gtag('config', 'UA-44130515-33');
    </script>
</head>
<body>

    <a-scene>

        <a-sky data-array-link-id="rot" data-array="room" src="images/cais-sertao-1.jpg" visible="true" rotation="0 -90 0"></a-sky>
        <a-sky data-array-link-id="spl" data-array="room" src="images/cais-sertao-2.jpg" visible="false" rotation="0 135 0"></a-sky>
        <a-sky data-array-link-id="nhr" data-array="room" src="images/cais-sertao-3.jpg" visible="false" rotation="-.5 -93 5"></a-sky>

        <a-entity>
            <a-entity id="camera" camera="" look-controls="" mouse-cursor="">
                <a-cursor id="cursor" cursor="fuse: false" scale="1.3 1.3 1.3"
                animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1.3 1.3 1.3; dur: 150"
                animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
                event-set__1="_event: mouseenter; color: #549ad5"
                event-set__2="_event: mouseleave; color: #ededed"
                raycaster="far: 20; interval: 1000; objects: .clickable"></a-cursor>
            </a-entity>
        </a-entity>

                  
                  
        <a-entity id="navcubeRot">
            <a-image data-array-link="nav" data-array="persist_ui" src="images/ui/abrirMenuCaisSertao.png" position="-2.1 -2 -1.9" width="1" height=".5" rotation="-45 0 0"></a-image>
        </a-entity>
                  
                  
        <a-entity id="HelpNav">
            <a-image data-array-link="help" data-array="persist_ui" src="images/ui/ajudaCaisSertao.png" position="2.1 -2 -1.9" width="1" height=".5" rotation="-45 0 0"></a-image>
        </a-entity>
                  
                  
        <a-entity data-array-link-id="help" data-array="ui" data-is-receiver-for="closehelp" visible="true">
           <a-image src="images/ui/ajudaMenuCaisSertao.png" position="0 -.8 -5" rotation="-10 0 0" width="8" height="4.1" material="shader:flat;opacity:1;color:#fff"></a-image>
           <a-image data-array-link-id="help" data-array="ui" data-is-button-for="closehelp" src="images/ui/fechar.png"  position="2.05 0.45 -3" width=".4" height=".4" rotation="-10 0 0"></a-image>
        </a-entity>
                  
                  
        <!-- This is the "navigation panel" with the selection of rooms -->
                  
        <a-entity data-array-link-id="nav" data-array="ui" data-is-receiver-for="closenav" data-is-room-receiver-for="navclick" visible="false" position="0 -.8 -5" rotation="-10 0 0">
            <a-image src="images/ui/caisSertaoMenu.png" width="9" height="6"></a-image>
                  
            <a-entity id="NavThumbs" position="0 -1.6 .8" rotation="10 0 0" scale=".9 .9 .9">
                <a-plane data-array-link="nhr" data-is-room-button-for="navclick" data-array-poi-link="panelhide" data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="-2.74 3.3 -.9" scale="0.2 0.2 0.2"></a-plane>
                <a-plane data-array-link="spl" data-is-room-button-for="navclick" data-array-poi-link="panelhide" data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="-2.78 1.6 -.7" scale="0.2 0.2 0.2"></a-plane>
                <a-plane data-array-link="rot" data-is-room-button-for="navclick" data-array-poi-link="panelhide" data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="0 1.6 -.7" scale="0.2 0.2 0.2"></a-plane>
                <a-image data-array-link-id="nav" data-is-button-for="closenav" data-array="ui" src="images/ui/fechar.png" scale="1.5 1.5 1.5" position="2.90 3.72 .5" rotation="-10 0 0" width=".4" height=".4" rotation="-10 0 0"></a-image>
            </a-entity>
      </a-entity>
                  
</a-scene>
                  
<script type="text/javascript">
                  
    $(function(){
        $('[data-is-button-for]').click(function(){
            var receiver = $('[data-is-receiver-for="'+$(this).attr('data-is-button-for')+'"]');
            if(receiver.attr('visible') == true) {
                console.log("hide");
                receiver.attr('visible', false);
            }else{
              console.log("show");
              receiver.attr('visible', true);
            }
        });
    });
                  
    $(function(){
       $('[data-is-toggle-button-for]').click(function(){
          var receiver = $('[data-is-toggle-receiver-for="'+$(this).attr('data-is-toggle-button-for')+'"]');
          if(receiver.attr('visible') == true) {
             console.log("hide");
             receiver.attr('visible', false);
         }else{
            console.log("show");
            receiver.attr('visible', true);
        }
      });
 });
                  
$(function(){
    $('[data-array-link]').click(function() {
        var link = $(this);
        var linkWindow = $('[data-array-link-id="'+$(this).attr('data-array-link')+'"]');
           $( '[data-array="'+linkWindow.attr('data-array')+'"]').each(function(index, object) {
           $(object).attr('visible', false);
       });
       console.log('got here at least');
       linkWindow.attr('visible', true);
    });
});
                  
$(function(){
    $('[data-is-room-button-for]').click(function(){
         var receiver = $('[data-is-room-receiver-for="'+$(this).attr('data-is-room-button-for')+'"]');
         if(receiver.attr('visible') == true) {
                console.log("hide");
                receiver.attr('visible', false);
        }else{
            console.log("show");
            receiver.attr('visible', true);
        }
    });
});
                  
$(function(){
    $('[data-array-poi-link]').click(function() {
         var link = $(this);
         var linkWindow = $('[data-array-poi-link-id="'+$(this).attr('data-array-poi-link')+'"]');
         $( '[data-poi-array="'+linkWindow.attr('data-poi-array')+'"]').each(function(index, object) {
                $(object).attr('visible', false);
         });
         console.log('poi visiblity array');
    });
});

</script>
    
</body>
</html>